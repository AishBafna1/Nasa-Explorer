{"ast":null,"code":"import React,{useEffect,useState}from'react';import Navbar from'../components/Navbar';// Import Navbar\nimport'./APOD.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function APOD(){const[apodData,setApodData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedDate,setSelectedDate]=useState('');// State for selected date\n// Function to fetch APOD data\nconst fetchAPOD=async date=>{setLoading(true);try{const response=await fetch(`/api/apod?date=${date}`);const data=await response.json();setApodData(data);}catch(error){setError(error);}finally{setLoading(false);}};// Effect to fetch APOD when the component mounts or when selectedDate changes\nuseEffect(()=>{if(selectedDate){fetchAPOD(selectedDate);}else{fetchAPOD(new Date().toISOString().split('T')[0]);// Default to today's date\n}},[selectedDate]);return/*#__PURE__*/_jsxs(\"div\",{className:\"apod-container\",children:[/*#__PURE__*/_jsx(Navbar,{}),\" \",loading&&/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:\"Loading...\"}),error&&/*#__PURE__*/_jsxs(\"p\",{className:\"error\",children:[\"Error fetching data: \",error.message]}),/*#__PURE__*/_jsxs(\"div\",{className:\"apod-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:(apodData===null||apodData===void 0?void 0:apodData.title)||'Astronomy Picture of the Day'}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:selectedDate,onChange:e=>setSelectedDate(e.target.value)// Update selected date\n,placeholder:\"Select a date\"// Add placeholder here\n,style:{margin:'20px 0',padding:'10px',fontSize:'1rem'}}),/*#__PURE__*/_jsx(\"div\",{className:\"media-wrapper\",children:apodData&&apodData.media_type==='image'?/*#__PURE__*/_jsx(\"img\",{src:apodData.url,alt:apodData.title,className:\"apod-image\"}):apodData&&/*#__PURE__*/_jsx(\"iframe\",{title:\"APOD Video\",src:apodData.url,className:\"apod-video\",frameBorder:\"0\",allow:\"autoplay; encrypted-media\",allowFullScreen:true})}),/*#__PURE__*/_jsx(\"p\",{className:\"description\",children:apodData===null||apodData===void 0?void 0:apodData.explanation}),/*#__PURE__*/_jsxs(\"p\",{className:\"date\",children:[\"Date: \",apodData===null||apodData===void 0?void 0:apodData.date]}),\" \"]})]});}export default APOD;","map":{"version":3,"names":["React","useEffect","useState","Navbar","jsx","_jsx","jsxs","_jsxs","APOD","apodData","setApodData","loading","setLoading","error","setError","selectedDate","setSelectedDate","fetchAPOD","date","response","fetch","data","json","Date","toISOString","split","className","children","message","title","type","value","onChange","e","target","placeholder","style","margin","padding","fontSize","media_type","src","url","alt","frameBorder","allow","allowFullScreen","explanation"],"sources":["/Users/buffu/Desktop/nasa-explorer/frontend/src/pages/APOD.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Navbar from '../components/Navbar'; // Import Navbar\nimport './APOD.css';\n\nfunction APOD() {\n  const [apodData, setApodData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedDate, setSelectedDate] = useState(''); // State for selected date\n\n  // Function to fetch APOD data\n  const fetchAPOD = async (date) => {\n    setLoading(true);\n    try {\n      const response = await fetch(`/api/apod?date=${date}`);\n      const data = await response.json();\n      setApodData(data);\n    } catch (error) {\n      setError(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Effect to fetch APOD when the component mounts or when selectedDate changes\n  useEffect(() => {\n    if (selectedDate) {\n      fetchAPOD(selectedDate);\n    } else {\n      fetchAPOD(new Date().toISOString().split('T')[0]); // Default to today's date\n    }\n  }, [selectedDate]);\n\n  return (\n    <div className=\"apod-container\">\n      <Navbar /> {/* Include the Navbar */}\n      \n      {loading && <div className=\"spinner\">Loading...</div>}\n      {error && <p className=\"error\">Error fetching data: {error.message}</p>}\n      \n      <div className=\"apod-content\">\n        <h1>{apodData?.title || 'Astronomy Picture of the Day'}</h1>\n        \n        {/* Date selection */}\n        <input\n          type=\"date\"\n          value={selectedDate}\n          onChange={(e) => setSelectedDate(e.target.value)} // Update selected date\n          placeholder=\"Select a date\" // Add placeholder here\n          style={{ margin: '20px 0', padding: '10px', fontSize: '1rem' }}\n        />\n\n        {/* Media display */}\n        <div className=\"media-wrapper\">\n          {apodData && apodData.media_type === 'image' ? (\n            <img src={apodData.url} alt={apodData.title} className=\"apod-image\" />\n          ) : (\n            apodData && (\n              <iframe\n                title=\"APOD Video\"\n                src={apodData.url}\n                className=\"apod-video\"\n                frameBorder=\"0\"\n                allow=\"autoplay; encrypted-media\"\n                allowFullScreen\n              />\n            )\n          )}\n        </div>\n\n        <p className=\"description\">{apodData?.explanation}</p>\n        <p className=\"date\">Date: {apodData?.date}</p> {/* Display the date */}\n      </div>\n    </div>\n  );\n}\n\nexport default APOD;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}